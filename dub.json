{
    "name": "fukuro",
    "targetName": "fukuro",
    "description": "生協の知恵袋",
    "homepage": "https://github.com/coop-mojo/moecoop/",
    "copyright": "© 2016, もじょんぬ",
    "license": "MIT",
    "authors": ["もじょんぬ <moe.e.coop@gmail.com>"],

    "dependencies": {
        "derelict-util": "==2.0.6",
        "vibe-d:data": ">=0.7.30"
    },

    "stringImportPaths": ["views", "views/res"],

    "dflags-windows-x86-dmd": ["-m32mscoff"],
    "postBuildCommands-windows-x86_64": [
        "powershell -Command \"wget http://files.kaoriya.net/cmigemo/cmigemo-default-win64-20110227.zip -OutFile migemo.zip;\"",
        "powershell -Command \"unzip migemo.zip;\"",
        "copy /y cmigemo-default-win64\\migemo.dll .",
        "xcopy /iy cmigemo-default-win64\\dict\\utf-8 resource\\dict\\dict",
        "rm -rf migemo.zip cmigemo-default-win64"
    ],
    "preBuildCommands": ["git describe > views/version"],
    "configurations": [
        {
            "name": "mui",
            "targetType": "executable",
            "mainSourceFile": "source/mui.d",
            "excludedSourceFiles": ["source/server.d"],
            "targetName": "fukuro",
            "sourceFiles-windows": ["source/icon.res"],
            "preBuildCommands-windows": ["rc source/icon.rc"],
            "dependencies": {
                "dlangui": ">=0.9.47",
                "vibe-d:http": ">=0.7.30",
                "vibe-d:web": ">=0.7.30"
            },
            "versions": ["UseMUI", "VibeNoSSL"]
        },

        {
            "name": "server",
            "targetType": "executable",
            "mainSourceFile": "source/server.d",
            "excludedSourceFiles": ["source/mui.d", "source/coop/mui/*"],
            "targetName": "fukurod",
            "dependencies": {
                "vibe-d": ">=0.7.30"
            },
            "stringImportPaths": ["views/site"],
            "versions": ["Server", "VibeNoSSL"]
        },

        {
            "name": "library",
            "targetType": "library",
            "excludedSourceFiles": ["source/mui.d", "source/server.d"],
            "dependencies": {
                "dlangui": ">=0.9.47",
                "vibe-d": ">=0.7.30"
            },
            "versions": ["VibeNoSSL"]
        },

        {
            "name": "fallback",
            "targetType": "executable",
            "subConfiguration": {"dlangui": "x11"}
        }
    ]
}
